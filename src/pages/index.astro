---
import "../tailwind.css";
import Carousel from "../components/Carousel.astro";
import Navbar from "../components/Navbar.astro";
import HeroWithImage from "../components/HeroWithImage.astro";
import HeroWithImageFull from "../components/HeroWithFullImage.astro";
import CriticalStyles from "../components/CriticalStyles.astro";
import Footer from "../components/Footer.astro";
import WhatsAppButton from "../components/WhatsAppButton.astro";

// Import the new section components
import DecisionFlowchartSection from "../components/DecisionFlowchartSection.astro";
import WorkProcessSection from "../components/WorkProcessSection.astro";
import ContractSection from "../components/ContractSection.astro";
import TimelineSection from "../components/TimelineSection.astro";

import imagen1 from "/public/carousel/web/Imagen1.webp";
import imagen2 from "/public/carousel/web/Imagen2.webp";
import imagen3 from "/public/carousel/web/Imagen3.webp";
import imagen4 from "/public/carousel/web/Imagen4.webp";
import imagen5 from "/public/carousel/web/Imagen5.webp";
import imagen6 from "/public/carousel/web/Imagen6.webp";

import imagen1Mobile from "/public/carousel/movil/1.webp";
import imagen2Mobile from "/public/carousel/movil/2.webp";
import imagen3Mobile from "/public/carousel/movil/3.webp";
import imagen4Mobile from "/public/carousel/movil/4.webp";
import imagen5Mobile from "/public/carousel/movil/5.webp";
import imagen6Mobile from "/public/carousel/movil/6.webp";

import iconUrban from "/public/icons/icon_urban.svg";
import arquitecturaImage from "/public/inicio/arquitectura.webp";
import construccionImage from "/public/inicio/construccion.webp";

const slides = [
  {
    image: imagen1,
    mobileImage: imagen1Mobile,
    description:
      "Personalice su proyecto y ahorre hasta un 25% con nuestros servicios",
  },
  {
    image: imagen2,
    mobileImage: imagen2Mobile,
    description: "Respaldo total con contrato de obra y garantía por escrito",
  },
  {
    image: imagen3,
    mobileImage: imagen3Mobile,
    description:
      "Arquitectura vanguardista, eficiente y comprometida con la sustentabilidad",
  },
  {
    image: imagen4,
    mobileImage: imagen4Mobile,
    description:
      "Servicio profesional especializado en pintura e impermeabilización",
  },
  {
    image: imagen5,
    mobileImage: imagen5Mobile,
    description:
      "Talleres especializados en acabados finos: Carpintería, Cancelería y Herrería",
  },
  {
    image: imagen6,
    mobileImage: imagen6Mobile,
    description:
      "Soluciones arquitectónicas y de construcción adaptadas a su presupuesto",
  },
];

const talleresItems = [
  {
    title: "Carpintería",
    imageSrc: "/public/talleres/carpinteria.webp",
  },
  {
    title: "Cancelería",
    imageSrc: "/public/talleres/canceleria.webp",
  },
  {
    title: "Herrería",
    imageSrc: "/public/talleres/herreria.webp",
  },
  {
    title: "Acabados",
    imageSrc: "/public/talleres/acabados.webp",
  },
];

// Work process steps
const workProcessSteps = [
  {
    number: 1,
    title: "Evaluación inicial",
    description:
      "Inspección del terreno y reunión para definir necesidades, estilo y presupuesto.",
  },
  {
    number: 2,
    title: "Planeación",
    description: "Cálculo de áreas y presupuesto preliminar.",
  },
  {
    number: 3,
    title: "Contratación",
    description: "Firma del contrato de diseño y pago inicial.",
  },
  {
    number: 4,
    title: "Diseño",
    description: "Desarrollo de planos detallados, renders y diseño técnico.",
  },
  {
    number: 5,
    title: "Entrega",
    description: "Entrega del diseño aprobado en formato digital.",
  },
];

// Project timeline data
const projectTimeline = [
  {
    phase: "Elaboración del Proyecto Arquitectónico",
    time: "1 mes",
    description:
      "Incluye el diseño conceptual y desarrollo de planos arquitectónicos.",
  },
  {
    phase: "Gestión de Permisos",
    time: "2 meses",
    description:
      "Tiempo estimado para tramitar las licencias y autorizaciones necesarias.",
  },
  {
    phase: "Ejecución de la Obra",
    time: "6 meses",
    description:
      "Desde la preparación del terreno hasta la entrega final de la obra.",
  },
];
---

<html>
  <head>
    <title>Carrusel de Imágenes</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Critical CSS for performance -->
    <CriticalStyles />

    <!-- Preload critical carousel images -->
    <link
      rel="preload"
      href={slides[0].image.src}
      as="image"
      type="image/webp"
      fetchpriority="high"
    />
    <link
      rel="preload"
      href={slides[0].mobileImage.src}
      as="image"
      type="image/webp"
      fetchpriority="high"
      media="(max-width: 512px)"
    />

    <!-- Optimized font loading strategy -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Preload critical fonts -->
    <link
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />

    <!-- Non-blocking font loading -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Lato:wght@300;400;700&family=Poppins:wght@500;700&display=swap"
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    />

    <!-- Fallback for browsers that don't support JS -->
    <noscript>
      <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Lato:wght@300;400;700&family=Poppins:wght@500;700&display=swap"
        rel="stylesheet"
      />
    </noscript>
  </head>
  <body>
    <Navbar />
    <Carousel
      slides={slides}
      interval={5000}
      showArrows={true}
      showDots={true}
      showText={true}
    />
    <div class="h-5"></div>
    <HeroWithImage
      title="NOSOTROS"
      imageSrc={iconUrban}
      imagePosition="right"
      height="600px"
    >
      <p>
        <strong>Transformamos sueños en espacios únicos.</strong>
        Con más de 25 años de experiencia, en nuestro despacho de Arquitectura y
        Construcción Residencial combinamos <strong
          >innovación tecnológica e inteligencia artificial</strong
        >
        para diseñar y construir hogares personalizados de la más alta calidad. Con
        sede en Santiago de Querétaro y <strong>cobertura nacional</strong>,
        creamos espacios que inspiran.
      </p>
    </HeroWithImage>
    <div class="h-5 w-[100%] bg-black"></div>

    <HeroWithImageFull
      title="ARQUITECTURA"
      imageSrc={arquitecturaImage}
      textPosition="right"
      height="600px"
    >
      <p>
        <strong> Diseños que reflejan tu estilo de vida.</strong>
        Fusionamos estética, funcionalidad y sostenibilidad para <strong
          >maximizar el potencial</strong
        >
        de cada espacio, integrando características naturales del entorno con propuestas
        innovadoras.
      </p>
    </HeroWithImageFull>
    <div class="h-5 w-[100%] bg-black"></div>
    <HeroWithImageFull
      title="CONSTRUCCIÓN"
      imageSrc={construccionImage}
      textPosition="left"
      height="600px"
    >
      <p>
        <strong>Excelencia en cada detalle.</strong>
        Nuestro equipo de ingeniería civil utiliza tecnología de vanguardia y materiales
        de alto rendimiento para ofrecer <strong
          >construcciones que superan expectativas</strong
        >, garantizando calidad y eficiencia en cada proyecto.
      </p>
    </HeroWithImageFull>
    <div class="h-5 w-[100%] bg-black"></div>

    <!-- Replaced diagram code with the new component -->
    <!-- <DiagramSection /> -->

    <!-- Decision Flowchart Section -->
    <DecisionFlowchartSection />

    <div class="h-5 w-[100%] bg-black"></div>

    <!-- Work Process Section -->
    <WorkProcessSection />

    <div class="h-5 w-[100%] bg-black"></div>

    <!-- Contract Section -->
    <ContractSection />

    <div class="h-5 w-[100%] bg-black"></div>

    <!-- Timeline Section -->
    <TimelineSection />

    <WhatsAppButton />
    <Footer />
  </body>
</html>
